diff -urN whois-4.7.21.org/config.h whois-4.7.21/config.h
--- whois-4.7.21.org/config.h	2007-04-02 04:26:39.000000000 +0200
+++ whois-4.7.21/config.h	2007-07-16 22:16:20.172152166 +0200
@@ -11,44 +11,19 @@
 #define DEFAULTSERVER   "whois.arin.net"
 
 /* Configuration file */
-/*
 #define CONFIG_FILE "/etc/whois.conf"
-*/
 
 /* autoconf in cpp macros */
-#ifdef linux
 # define ENABLE_NLS
-#endif
 
-#ifdef __FreeBSD__
-/* which versions? */
 # define HAVE_GETOPT_LONG
 # define HAVE_GETADDRINFO
 # define ENABLE_NLS
-# define LOCALEDIR "/usr/local/share/locale"
-#endif
-
-/* needs unistd.h */
-#ifdef _ISO_CPP_14882_1998
-/* Solaris 8 and better. What else? */
-# define HAVE_GETADDRINFO
-#endif
+# define LOCALEDIR "/usr/share/locale"
 
-#if defined __GLIBC__
-# define HAVE_GETOPT_LONG
-# if __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
-#  define HAVE_GETADDRINFO
-# endif
-#endif
-
-/* Linux, Solaris 5, FreeBSD 5.x. What else? */
-#if defined _POSIX_VERSION && _POSIX_VERSION >= 200112L
 # define HAVE_WORDEXP
-#endif
 
-#if defined _POSIX2_VERSION
 # define HAVE_REGEXEC
-#endif
 
 
 /* system features */
